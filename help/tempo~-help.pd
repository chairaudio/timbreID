#N canvas 118 192 1105 710 10;
#X obj 44 119 *~;
#X obj 4 5 cnv 10 400 10 empty empty empty 20 12 0 14 -233017 -66577
0;
#X obj 4 5 cnv 10 10 400 empty empty empty 20 12 0 14 -233017 -66577
0;
#N canvas 833 85 890 662 other-settings 1;
#X text 191 249 Change window size.;
#X obj 300 368 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X text 338 367 Squared difference vs. Absolute value of difference.
;
#X obj 95 123 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 95 143 power_spectrum \$1;
#X text 126 123 Use power instead of magnitude;
#X obj 33 606 outlet;
#X obj 33 57 hradio 15 1 0 5 empty empty empty 0 -8 0 10 -262144 -1
-1 0;
#X msg 33 77 window_function \$1;
#X msg 300 386 squared_diff \$1;
#X msg 358 435 overlap 2;
#X text 439 423 Inside a subpatch with re-blocking involving overlap
(e.g. \, [block~ 4096 2]) \, you'll need to change the overlap for
things to behave properly;
#X msg 193 270 window 2000;
#X text 31 20 Change windowing function. Rectangular (0) \, Blackman
(1) \, Cosine (2) \, Hamming (3) \, or Hann (4). (default: Blackman)
;
#X msg 401 497 print;
#X text 355 322 Change distance between analysis windows in samples
(must be multiple of block size) \;;
#X floatatom 505 210 5 1 10 0 - - -, f 5;
#X obj 505 230 t b f;
#X msg 505 251 64;
#X obj 505 272 *;
#X floatatom 505 293 5 0 0 0 - - -, f 5;
#X msg 245 323 hop \$1;
#X floatatom 372 565 10 0 0 0 - - -, f 10;
#X msg 372 585 thresh \$1;
#X floatatom 496 480 10 0 0 0 - - -, f 10;
#X obj 511 514 pack f f;
#X obj 511 535 list prepend freq_range;
#X obj 511 556 list trim;
#X floatatom 592 471 10 0 0 0 - - -, f 10;
#X obj 592 491 t b f;
#X obj 464 612 pack f \$0;
#X floatatom 139 186 5 0 0 0 - - -, f 5;
#X msg 139 206 below_thresh_default \$1;
#X obj 467 140 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X text 498 140 Use power instead of magnitude;
#X msg 467 160 align_first_peak \$1;
#X floatatom 419 64 5 0 0 0 - - -, f 5;
#X msg 419 84 onset_buf_size \$1;
#X floatatom 638 209 5 0 0 0 - - -, f 5;
#X msg 638 229 harmonics \$1;
#X msg 464 633 \; \$2-onsets-buffer ylabel 0 \$1 \;;
#X msg 668 274 tempo_range 90 160;
#X connect 1 0 9 0;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 7 0 8 0;
#X connect 8 0 6 0;
#X connect 9 0 6 0;
#X connect 10 0 6 0;
#X connect 12 0 6 0;
#X connect 14 0 6 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 17 1 19 1;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 21 0 6 0;
#X connect 22 0 23 0;
#X connect 22 0 30 0;
#X connect 23 0 6 0;
#X connect 24 0 25 0;
#X connect 25 0 26 0;
#X connect 26 0 27 0;
#X connect 27 0 6 0;
#X connect 28 0 29 0;
#X connect 29 0 25 0;
#X connect 29 1 25 1;
#X connect 30 0 40 0;
#X connect 31 0 32 0;
#X connect 32 0 6 0;
#X connect 33 0 35 0;
#X connect 35 0 6 0;
#X connect 36 0 37 0;
#X connect 37 0 6 0;
#X connect 38 0 39 0;
#X connect 39 0 6 0;
#X connect 41 0 6 0;
#X restore 460 442 pd other-settings;
#X text 809 520 Updated for timbreID version 0.7;
#X text 809 540 July 2017;
#N canvas 0 81 450 300 do-plotting 0;
#X obj 84 51 inlet;
#X obj 84 150 list prepend 0;
#X obj 84 90 t l l;
#X obj 205 149 change;
#X obj 205 171 pack f \$0;
#X obj 205 129 list length;
#X msg 205 193 \; \$2-onsets-buffer resize \$1 \;;
#X obj 84 171 s \$0-onsets-buffer;
#X connect 0 0 2 0;
#X connect 1 0 7 0;
#X connect 2 0 1 0;
#X connect 2 1 5 0;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 5 0 3 0;
#X restore 215 601 pd do-plotting;
#X obj 99 133 vline~;
#X obj 99 69 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X obj 99 89 metro 500;
#X text 232 549 Creation arguments are window size and hop in samples
between analysis windows., f 48;
#X msg 807 164 fit_bounds;
#X obj 181 362 readsf~;
#X msg 227 326 stop;
#X obj 204 400 output~;
#X floatatom 345 34 5 0 0 1 bpm - -, f 5;
#X obj 345 54 t b f;
#X obj 345 96 /;
#X floatatom 345 117 10 0 0 1 seconds - -, f 10;
#X obj 345 205 / 1024;
#X floatatom 345 226 10 0 0 1 frames - -, f 10;
#X floatatom 362 178 10 0 0 1 samples - -, f 10;
#X obj 772 311 t b l l;
#X msg 716 345 fit_bounds;
#X obj 716 366 tabletool yvalues;
#X obj 842 301 list length;
#X msg 842 322 \; yvalues resize \$1 \;;
#X obj 852 368 list prepend 0;
#X obj 852 389 s yvalues;
#X obj 842 255 table yvalues;
#X floatatom 953 292 5 0 0 0 - - -, f 5;
#X msg 345 75 60;
#X obj 345 137 * 44100;
#X floatatom 76 592 5 0 0 1 BPM - -, f 5;
#X msg 181 275 open /Users/williambrent/Dropbox/PUREDATA/patches/research/specGrowth/drumLoop1.wav
\, start;
#X msg 99 112 0.25 2 \, 0 2 10;
#X obj 44 88 noise~;
#X obj 608 56 table \$0-onsets-buffer;
#X obj 76 540 tempo~ 1024 128;
#X obj 150 63 * 1000;
#X obj 807 185 tabletool \$0-onsets-buffer;
#N canvas 0 22 450 278 (subpatch) 0;
#X array tempo 100 float 3;
#A 0 106.556 106.556 106.556 106.556 106.556 106.556 106.556 106.556
106.556 106.556 106.556 106.556 106.556 106.556 106.556 106.556 106.556
106.556 106.556 106.556 106.556 96.5975 98.4375 130.835 99.384 132.512
132.512 102.336 134.233 95.7031 137.812 112.347 112.347 112.347 107.666
107.666 107.666 107.666 107.666 107.666 107.666 107.666 107.666 107.666
159.014 159.014 159.014 159.014 159.014 159.014 159.014 159.014 159.014
159.014 159.014 159.014 159.014 159.014 159.014 159.014 159.014 159.014
159.014 159.014 159.014 159.014 159.014 159.014 159.014 159.014 159.014
159.014 159.014 159.014 159.014 159.014 159.014 159.014 159.014 159.014
159.014 159.014 159.014 159.014 159.014 159.014 159.014 159.014 120.185
114.844 114.844 123.047 123.047 123.047 106.556 106.556 106.556 106.556
106.556 106.556;
#X coords 0 240 100 40 200 140 1 0 0;
#X restore 536 114 graph;
#X obj 76 612 t f b;
#X obj 76 633 tabwrite tempo;
#X obj 190 630 f;
#X obj 230 626 + 1;
#X obj 230 647 % 100;
#X text 122 509 tempo~ 1024 256;
#X connect 0 0 38 0;
#X connect 3 0 38 0;
#X connect 7 0 0 1;
#X connect 8 0 9 0;
#X connect 9 0 35 0;
#X connect 11 0 40 0;
#X connect 12 0 14 0;
#X connect 12 0 14 1;
#X connect 12 0 38 0;
#X connect 12 1 34 0;
#X connect 13 0 12 0;
#X connect 15 0 16 0;
#X connect 16 0 31 0;
#X connect 16 1 17 1;
#X connect 17 0 18 0;
#X connect 17 0 39 0;
#X connect 18 0 32 0;
#X connect 19 0 20 0;
#X connect 22 0 23 0;
#X connect 22 1 27 0;
#X connect 22 2 25 0;
#X connect 23 0 24 0;
#X connect 25 0 26 0;
#X connect 25 0 30 0;
#X connect 27 0 28 0;
#X connect 31 0 17 0;
#X connect 32 0 19 0;
#X connect 32 0 21 0;
#X connect 33 0 42 0;
#X connect 34 0 12 0;
#X connect 35 0 7 0;
#X connect 36 0 0 0;
#X connect 38 0 33 0;
#X connect 38 1 6 0;
#X connect 39 0 9 1;
#X connect 42 0 43 0;
#X connect 42 1 44 0;
#X connect 44 0 45 0;
#X connect 44 0 43 1;
#X connect 45 0 46 0;
#X connect 46 0 44 1;
